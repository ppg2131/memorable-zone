<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Cart | Memorable Zone</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:#f4f9f8;   /* light brand background */
  color:#264653;        /* dark text */
}

.cart-container{
  max-width:900px;
  margin:auto;
  padding:16px;
}

.cart-container h2{
  font-size:1.5rem;
  margin-bottom:16px;
}

/* CART ITEM */
.cart-item{
  background:#ffffff;
  border-radius:14px;
  padding:14px;
  display:flex;
  gap:12px;
  margin-bottom:16px;
  box-shadow:0 6px 18px rgba(0,0,0,0.06);
  border-left:4px solid #2a9d8f; /* primary */
}

.cart-img{
  width:90px;
  height:90px;
  object-fit:cover;
  border-radius:10px;
}

.cart-details{flex:1}

.cart-details h3{
  font-size:1rem;
  margin-bottom:6px;
}

.price{
  font-weight:600;
  color:#2a9d8f; /* primary */
  margin-bottom:10px;
}

.cart-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}

.qty-control{
  display:flex;
  align-items:center;
  background:#e8f5f3; /* light green tint */
  border-radius:30px;
  overflow:hidden;
}

.qty-control button{
  width:34px;
  height:34px;
  border:none;
  background:#2a9d8f; /* primary */
  color:#ffffff;
  font-size:18px;
  cursor:pointer;
}

.qty-control span{
  padding:0 14px;
  font-size:14px;
}

/* SINGLE ITEM CHECKOUT */
.checkout-item-btn{
  background:#e9c46a; /* secondary */
  color:#264653;
  border:none;
  padding:6px 14px;
  border-radius:18px;
  font-size:0.8rem;
  cursor:pointer;
}

/* REMOVE */
.remove-btn{
  background:none;
  border:none;
  color:#e76f51; /* accent */
  font-size:0.85rem;
  cursor:pointer;
}

/* TOTAL */
.cart-total{
  background:#ffffff;
  padding:14px;
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  font-size:1.1rem;
  margin-top:10px;
}

/* MAIN CHECKOUT */
.checkout-btn{
  width:100%;
  margin-top:16px;
  padding:14px;
  background:#2a9d8f; /* primary */
  color:#ffffff;
  border:none;
  border-radius:10px;
  font-size:1rem;
  font-weight:600;
  cursor:pointer;
}

/* CONTINUE SHOPPING */
.home-btn{
  display:inline-block;
  margin-top:18px;
  background:#e76f51; /* accent */
  color:#ffffff;
  padding:12px 26px;
  border-radius:30px;
  text-decoration:none;
}

/* MOBILE */
@media(max-width:480px){
  .cart-img{
    width:80px;
    height:80px;
  }
}

</style>
</head>

<body>

<div class="cart-container">
  <h2>üõí Your Cart</h2>

  <div id="cartItems"></div>

  <div class="cart-total">
    <span>Total</span>
    <strong id="total">‚Çπ0</strong>
  </div>

  <button class="checkout-btn" onclick="checkoutWhatsApp()">
    Checkout / Place Order
  </button>

  <a href="fp copy.html" class="home-btn">‚Üê Continue Shopping</a>
</div>

<script>
/* =========================
   CONFIG
========================= */
const phoneNumber = "9112705031"; // üî¥ replace with your WhatsApp number

const cartItemsDiv = document.getElementById("cartItems");
const totalDiv = document.getElementById("total");

/* =========================
   RENDER CART
========================= */
function renderCart() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  cartItemsDiv.innerHTML = "";
  let total = 0;

  if (cart.length === 0) {
    cartItemsDiv.innerHTML = "<p>Your cart is empty.</p>";
    totalDiv.innerText = "‚Çπ0";
    return;
  }

  cart.forEach((item, index) => {
    const qty = item.qty || 1;
    total += item.price * qty;

    cartItemsDiv.innerHTML += `
      <div class="cart-item">
        <img src="${item.image}" class="cart-img">

        <div class="cart-details">
          <h3>${item.name}</h3>
          <p class="price">‚Çπ${item.price}</p>

          <div class="cart-actions">
            <div class="qty-control">
              <button onclick="updateQty(${index}, -1)">‚àí</button>
              <span>${qty}</span>
              <button onclick="updateQty(${index}, 1)">+</button>
            </div>

            <button class="checkout-item-btn"
              onclick="checkoutSingleItem(${index})">
              Checkout
            </button>

            <button class="remove-btn"
              onclick="removeItem(${index})">
              Remove
            </button>
          </div>
        </div>
      </div>
    `;
  });

  totalDiv.innerText = "‚Çπ" + total;
}

/* =========================
   UPDATE QUANTITY
========================= */
function updateQty(index, change) {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];

  if (!cart[index]) return;

  cart[index].qty = Math.max(1, cart[index].qty + change);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

/* =========================
   REMOVE ITEM
========================= */
function removeItem(index) {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  cart.splice(index, 1);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

/* =========================
   FULL CART ‚Üí WHATSAPP
========================= */
function checkoutWhatsApp() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];

  if (cart.length === 0) {
    alert("Your cart is empty!");
    return;
  }

  let msg = "Hi";
  msg += "I want to order:%0A";

  let total = 0;

  cart.forEach(item => {
    const qty = item.qty || 1;
    total += item.price * qty;
    msg += `‚Ä¢ ${item.name} (Qty: ${qty})%0A`;
  });

  msg += `%0ATotal: ‚Çπ${total}%0A%0A`;
  msg += "Please confirm availability.";

  window.open(
    `https://wa.me/${phoneNumber}?text=${msg}`,
    "_blank"
  );
}

/* =========================
   SINGLE ITEM ‚Üí WHATSAPP
========================= */
function checkoutSingleItem(index) {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const item = cart[index];
  if (!item) return;

  const qty = item.qty || 1;
  const total = item.price * qty;

  let msg = "Hi üëã%0A%0A";
  msg += "I want to order:%0A";
  msg += `‚Ä¢ ${item.name} (Qty: ${qty})%0A`;
  msg += `%0ATotal: ‚Çπ${total}%0A%0A`;
  msg += "Please confirm availability.";

  window.open(
    `https://wa.me/${phoneNumber}?text=${msg}`,
    "_blank"
  );
}

/* =========================
   INIT
========================= */
renderCart();
</script>

</body>
</html>
